---
import Layout from '../layout/Layout.astro';

// Payment holds
const perPoundHold = 35;
const perBagHolds = { small: 35, medium: 55, large: 85 };

// SEO Meta
const title = "How It Works | Laundry Pickup & Delivery | Bags of Laundry";
const description = "Place your order online. We handle pickup, washing, and delivery — with photo updates at every step. Secure payment holds, live status tracking, and trained drivers.";
---

<Layout title={title} description={description}>
  <main>
    <!-- HERO -->
    <section class="py-16 lg:py-20 bg-white">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <div>
            <div class="inline-block bg-blue-100 text-blue-700 border border-blue-200 rounded-full px-3 py-1 text-xs font-bold mb-4">
              Laundry Delivery, Simplified
            </div>
            <h1 class="text-4xl sm:text-5xl font-black text-brand-text mb-6">How it works</h1>
            <p class="sub text-lg leading-relaxed mb-6">
              Place your order online. We handle pickup, washing, and delivery — with photo updates at every step so you always know what's happening.
            </p>
            <ul class="space-y-3 mb-8">
              <li class="flex gap-3 items-start">
                <span class="mt-1 inline-block h-5 w-5 rounded-full bg-emerald-500 flex-shrink-0"></span>
                <span class="sub">Secure payment authorization (no charge until weighed)</span>
              </li>
              <li class="flex gap-3 items-start">
                <span class="mt-1 inline-block h-5 w-5 rounded-full bg-emerald-500 flex-shrink-0"></span>
                <span class="sub">Live status in your dashboard</span>
              </li>
              <li class="flex gap-3 items-start">
                <span class="mt-1 inline-block h-5 w-5 rounded-full bg-emerald-500 flex-shrink-0"></span>
                <span class="sub">Trained drivers & partner laundromats</span>
              </li>
            </ul>
          </div>

          <!-- Order Preview Card -->
          <div class="relative">
            <div class="card p-6">
              <div class="flex items-center justify-between mb-4">
                <div>
                  <p class="text-sm text-gray-500">Example checkout</p>
                  <h3 class="text-xl font-bold text-brand-text">Pay per pound</h3>
                </div>
                <div class="text-right">
                  <p class="text-xs text-gray-500">Authorization hold</p>
                  <p class="text-lg font-bold text-brand-text">${perPoundHold}.00</p>
                </div>
              </div>
              <div class="grid grid-cols-3 gap-3 text-center mb-4">
                <div class="rounded-xl border border-gray-200 p-3">
                  <p class="text-xs text-gray-500 mb-1">Small bag hold</p>
                  <p class="font-semibold text-brand-text">${perBagHolds.small}</p>
                </div>
                <div class="rounded-xl border border-gray-200 p-3">
                  <p class="text-xs text-gray-500 mb-1">Medium bag hold</p>
                  <p class="font-semibold text-brand-text">${perBagHolds.medium}</p>
                </div>
                <div class="rounded-xl border border-gray-200 p-3">
                  <p class="text-xs text-gray-500 mb-1">Large bag hold</p>
                  <p class="font-semibold text-brand-text">${perBagHolds.large}</p>
                </div>
              </div>
              <p class="text-xs text-gray-500">
                Holds verify funds only. Final charge is based on the weighed total (or selected bag) after service.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- INFO CALL-OUT -->
    <section class="py-12 bg-brand-bg">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="card p-6">
          <div class="flex items-start gap-4">
            <div class="mt-1 h-6 w-6 rounded-full bg-brand-primary flex-shrink-0"></div>
            <div>
              <p class="font-bold text-brand-text mb-2">Payment holds</p>
              <p class="sub">
                When you select <span class="font-semibold text-brand-text">pay per pound</span>, a <span class="font-bold text-brand-text">${perPoundHold} USD</span> authorization hold is placed. For <span class="font-semibold text-brand-text">pay per bag</span>, we hold the selected bag price (e.g., ${perBagHolds.small}/${perBagHolds.medium}/${perBagHolds.large}). Holds are not charges and will adjust to your final total at completion.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- STEPS -->
    <section class="py-16 lg:py-20 bg-white">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="section-title text-center text-brand-text mb-12">The complete process</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">

          <!-- Step 1 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">1</span>
              <h3 class="text-lg font-bold text-brand-text">Place your order</h3>
            </div>
            <p class="sub">
              Choose <span class="font-semibold text-brand-text">pay per pound</span> or <span class="font-semibold text-brand-text">pay per bag</span>, enter pickup details, and checkout. We place a secure authorization hold (${perPoundHold} for per‑pound or the bag amount for pay‑per‑bag).
            </p>
          </div>

          <!-- Step 2 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">2</span>
              <h3 class="text-lg font-bold text-brand-text">We dispatch a driver</h3>
            </div>
            <p class="sub">
              We receive your order and send the nearest driver. If needed, they'll text you on the way.
            </p>
          </div>

          <!-- Step 3 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">3</span>
              <h3 class="text-lg font-bold text-brand-text">Pickup photo & timestamp</h3>
            </div>
            <p class="sub">
              Your driver takes a time‑stamped pickup photo. It appears in your customer dashboard instantly.
            </p>
          </div>

          <!-- Step 4 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">4</span>
              <h3 class="text-lg font-bold text-brand-text">Wash, dry & fold</h3>
            </div>
            <p class="sub mb-3">
              Our partner laundromat professionally washes, dries, and folds your clothes.
            </p>
            <p class="sub">
              When finished, they submit a <span class="font-semibold text-brand-text">Load complete</span> update. Your dashboard status changes automatically.
            </p>
          </div>

          <!-- Step 5 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">5</span>
              <h3 class="text-lg font-bold text-brand-text">Delivery & drop‑off photo</h3>
            </div>
            <p class="sub">
              Your driver drops off your order at the chosen location and takes a delivery photo for your records.
            </p>
          </div>

          <!-- Step 6 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">6</span>
              <h3 class="text-lg font-bold text-brand-text">Final charge & receipt</h3>
            </div>
            <p class="sub">
              We convert the authorization hold into your final charge (based on actual weight or selected bag) and email your receipt. Your dashboard keeps a full history of photos and timestamps.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="py-16 lg:py-20 bg-brand-bg">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="section-title text-center text-brand-text mb-12">Common questions</h2>
        <div class="grid md:grid-cols-3 gap-6 mb-16">

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">What is an authorization hold?</h3>
            <p class="sub">
              A temporary hold that verifies funds. It is not a charge and will adjust to your final total after service.
            </p>
          </div>

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">Where do I see updates?</h3>
            <p class="sub">
              All photos and timestamps appear in your customer dashboard in real time.
            </p>
          </div>

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">Can I change pickup instructions?</h3>
            <p class="sub">
              Yes. Add notes during checkout or update instructions from your dashboard before pickup.
            </p>
          </div>

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">How long does it take?</h3>
            <p class="sub">
              Most orders are completed within 24 hours. Same-day service is available in select areas.
            </p>
          </div>

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">What if I'm not home?</h3>
            <p class="sub">
              Leave your laundry in a safe spot (porch, garage, etc.) and add instructions during checkout. We'll handle the rest.
            </p>
          </div>

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">Is my payment secure?</h3>
            <p class="sub">
              Yes. We use industry-standard encryption and never store your full card details. All transactions are PCI-compliant.
            </p>
          </div>
        </div>

        <div class="text-center mt-12 pt-8">
          <a href="/start-basic" class="btn">Schedule Pickup</a>
        </div>

        {/* PARTNER FOOTNOTE */}
        <div class="max-w-4xl mx-auto mt-16 pt-8 border-t border-gray-200">
          <div class="card p-6 bg-gradient-to-r from-orange-50 to-blue-50 border border-gray-200">
            <div class="flex items-center gap-4">
              <svg class="w-12 h-12 text-brand-primary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
              </svg>
              <div class="flex-1">
                <p class="sub text-sm">
                  <strong class="text-brand-text">Laundromat owners:</strong> We work with professional laundromat partners across Detroit.
                  <a href="/laundromat-partners" class="text-brand-primary hover:underline font-semibold">Learn about partnership opportunities →</a>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>
</Layout>
