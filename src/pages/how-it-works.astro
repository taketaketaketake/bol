---
import Layout from '../layout/Layout.astro';

// Payment holds
const perPoundHold = 35;
const perBagHolds = { small: 35, medium: 55, large: 85 };

// SEO Meta
const title = "How It Works | Laundry Pickup & Delivery | Bags of Laundry";
const description = "Place your order online. We handle pickup, washing, and delivery — with photo updates at every step. Secure payment holds, live status tracking, and trained drivers.";
---

<Layout title={title} description={description}>
  <main>
    <!-- HERO -->
    <section class="py-16 lg:py-20 bg-white">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-black text-brand-text mb-6">
          Laundry Made Simple
        </h1>
        <p class="text-xl text-gray-600 leading-relaxed mb-8">
          Schedule pickup, we handle the rest. Your clean laundry comes back folded and ready to put away.
        </p>
        <a href="/schedule" class="btn text-lg px-8 py-4">Schedule Pickup</a>
      </div>
    </section>

    <!-- PRICING INFO -->
    <section class="py-12 bg-brand-bg">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="card p-6">
          <div class="flex items-start gap-4">
            <div class="mt-1 h-6 w-6 rounded-full bg-brand-primary flex-shrink-0"></div>
            <div>
              <p class="font-bold text-brand-text mb-2">Simple bag pricing</p>
              <p class="sub">
                Choose your bag size and pay one fixed price. Small bags are $35, medium bags are $55, and large bags are $85. If your laundry weighs more than the bag limit, you'll pay our standard rate of $2.25 per pound (or $1.75 for <a href="/membership" class="text-blue-600 hover:text-blue-800 underline">members</a>).
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- STEPS -->
    <section class="py-16 lg:py-20 bg-white">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="section-title text-center text-brand-text mb-12">The complete process</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">

          <!-- Step 1 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">1</span>
              <h3 class="text-lg font-bold text-brand-text">Place your order</h3>
            </div>
            <p class="sub">
              Choose <span class="font-semibold text-brand-text">pay per pound</span> or <span class="font-semibold text-brand-text">pay per bag</span>, enter pickup details, and checkout. We place a secure authorization hold (${perPoundHold} for per‑pound or the bag amount for pay‑per‑bag).
            </p>
          </div>

          <!-- Step 2 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">2</span>
              <h3 class="text-lg font-bold text-brand-text">We dispatch a driver</h3>
            </div>
            <p class="sub">
              We receive your order and send the nearest driver. If needed, they'll text you on the way.
            </p>
          </div>

          <!-- Step 3 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">3</span>
              <h3 class="text-lg font-bold text-brand-text">Pickup photo & timestamp</h3>
            </div>
            <p class="sub">
              Your driver takes a time‑stamped pickup photo. It appears in your customer dashboard instantly.
            </p>
          </div>

          <!-- Step 4 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">4</span>
              <h3 class="text-lg font-bold text-brand-text">Wash, dry & fold</h3>
            </div>
            <p class="sub mb-3">
              Our partner laundromat professionally washes, dries, and folds your clothes.
            </p>
            <p class="sub">
              When finished, they submit a <span class="font-semibold text-brand-text">Load complete</span> update. Your dashboard status changes automatically.
            </p>
          </div>

          <!-- Step 5 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">5</span>
              <h3 class="text-lg font-bold text-brand-text">Delivery & drop‑off photo</h3>
            </div>
            <p class="sub">
              Your driver drops off your order at the chosen location and takes a delivery photo for your records.
            </p>
          </div>

          <!-- Step 6 -->
          <div class="card p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-center gap-3 mb-4">
              <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-primary font-bold text-white">6</span>
              <h3 class="text-lg font-bold text-brand-text">Final charge & receipt</h3>
            </div>
            <p class="sub">
              We convert the authorization hold into your final charge (based on actual weight or selected bag) and email your receipt. Your dashboard keeps a full history of photos and timestamps.
            </p>
          </div>
        </div>
      </div>
    </section>


    <!-- FAQ -->
    <section class="py-16 lg:py-20 bg-brand-bg">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="section-title text-center text-brand-text mb-12">Common questions</h2>
        <div class="grid md:grid-cols-3 gap-6 mb-16">

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">What is an authorization hold?</h3>
            <p class="sub">
              A temporary hold that verifies funds. It is not a charge and will adjust to your final total after service.
            </p>
          </div>

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">Where do I see updates?</h3>
            <p class="sub">
              All photos and timestamps appear in your customer dashboard in real time.
            </p>
          </div>

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">Can I change pickup instructions?</h3>
            <p class="sub">
              Yes. Add notes during checkout or update instructions from your dashboard before pickup.
            </p>
          </div>

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">How long does it take?</h3>
            <p class="sub">
              Most orders are completed within 24 hours. Same-day service is available in select areas.
            </p>
          </div>

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">What if I'm not home?</h3>
            <p class="sub">
              Leave your laundry in a safe spot (porch, garage, etc.) and add instructions during checkout. We'll handle the rest.
            </p>
          </div>

          <div class="card p-6">
            <h3 class="text-lg font-bold text-brand-text mb-3">Is my payment secure?</h3>
            <p class="sub">
              Yes. We use industry-standard encryption and never store your full card details. All transactions are PCI-compliant.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- PARTNER CTA -->
    <section class="py-16 bg-white">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="card p-8 bg-gradient-to-r from-orange-50 to-blue-50 border border-gray-200 text-center">
          <div class="mb-4">
            <svg class="w-16 h-16 text-brand-primary mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-brand-text mb-2">Own a laundromat?</h3>
          <p class="text-gray-600 mb-6">
            We work with professional laundromat partners across Detroit to provide reliable wash & fold services.
          </p>
          <a href="/laundromat-partners" class="btn px-6 py-3">
            Learn About Partnership Opportunities
          </a>
        </div>
      </div>
    </section>

  </main>
</Layout>
